# 식별자 검색 순서

식에서 식별자가 있을 때, 다음 순서대로 검색해서 먼저 찾아진 것을 사용합니다. *순서대로*는  먼저 발견한 것을 그대로 사용하고, *동등하게*는 모든 결과를 다 가져오고 둘 이상 결과가 있으면 에러를 냅니다.

- **동등하게** (식별자 검색과 타입힌트 enum항목 검색)
    - 타입 힌트로 enum 항목 검색
    -  **순서대로** (식별자 검색 (가장 가까운 순서부터 멀어지도록))
        - **순서대로** 람다 -> 바깥 람다 ...
                - 지역 변수 검색
        - **순서대로** 함수 -> 바깥 함수 ...  
            - **순서대로**
                - 지역 변수 검색
                - 타입 인자 검색
        - **순서대로** 타입 -> 바깥 타입 ... 
            - **순서대로** 타입 -> 부모 타입 ...
                - **동등하게**
                    - 멤버 변수, 멤버 함수, 멤버 타입 검색
                    - 타입 인자 검색                    - 
        - **동등하게** (네임스페이스 검색)
            - **동등하게** using 선언된 namespace들 (중복 제외)
                - **동등하게** 레퍼런스 모듈들에서
                    - 전역 타입 검색
                    - 전역 함수 검색
            - **순서대로** 현재 네임스페이스 -> 상위 네임스페이스 ...
                - **동등하게** 레퍼런스 모듈들에서
                    - 전역 타입 검색
                    - 전역 함수 검색
                    - 루트 네임스페이스 인 경우 전역 변수 검색

```csharp

using namespace M1;

int X; // 14.

namespace M1 { void X() { } } // 12. M1.X, N1.N2.X 두개 에러

namespace N1 {
    class B1 { int X; } // 11.
    class B2 { int X; } // 9.    
    void X() {} // 13. 
    
    namespace N2 {
        void X() {} // 12. M1.X, N1.N2.X 두개 에러
        
        class C1<X> : B1
        {
            int X; // 10.

            class C2<X> : B2 // 8.
            {
                int X; // 7.

                void F1<X>() // 6.
                {
                    int X; // 5.

                    void F2<X>() // 4.
                    {
                        int X; // 3.

                        var l1 = () => {
                            int X; // 2.

                            var l2 = () => {
                                int X; // 1.

                                X // 이 X는 위 순서대로 검색한다
                            }
                        }
                    }
                }
            }
        }
    }
}
```

// 그래서 가능한 케이스
[Local_Variable]
[Lambda_Member_Variable]


# 관련 정보
[Type_Identifier_Resolution](Type_Identifier_Resolution.md)